<!DOCTYPE html>
<html oncontextmenu="return false" id="html" onmousemove="mouseCoord(event);document.getElementById('userName').focus();">
   <head>
      <title>huash.io</title>
      <meta charset="utf-8">
      <script src="socket.io/socket.io.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
	  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
	  <link rel="icon" type="image/png" href="favicon.png" sies="64x64">
<style>
body, html {
    position:fixed;
    background-color: black;
	overflow: visible;
	margin-left: 0px;
	margin-top: 0px;`
	z-index = -2;
}

canvas {
	position:fixed;
	left:0;
	top:0;
	transform:translate(0%, 0%) scale(1);
	z-index: -1;
}

#userName {
    display: none;
	text-align: center;
	padding: 0;
}
#userName:focus {
	outline: none;
}
#userName.placeholder {
    text-align: center;
}
</style>
</head>
<body id="body">
<input onmouseover="inputOver = true;" onmouseout="inputOver = false" id="userName" placeholder="Enter a nickname..." maxlength="15"></input><br>
<canvas id="canvas" style="display:none"></canvas> 
<script>
//declare variables & functions
var socket = io.connect(),
gameSocket = socket,
loginSocket = socket;


var up,
down,
left,
right,
up2,
down2,
left2,
right2,
toggleSkill = false,
co,
userPosX,
userPosY,
clickTime = [],
mouseDown = false;
angle = 0,
deadCheck = 0,
changeDirection = false,
moveSkill = 110,
healthPoint = 0,
damagePoint = 0,
speedPoint = 0,
healthDigits = 1,
damageDigits = 1,
speedDigits = 1,
submitState = 0,
gameStarted = 0,
canvas = document.getElementById("canvas"),
ctx = canvas.getContext("2d"),
cursorType = "default",
smouseX = 0,
smouseY = 0,
zoomLevel = window.devicePixelRatio,
clientWidth = document.documentElement.clientWidth,
clientHeight = document.documentElement.clientHeight;

setInterval(dynamicVar, 10);
function dynamicVar() {
    zoomLevel = window.devicePixelRatio;
    clientWidth = document.documentElement.clientWidth;
    clientHeight = document.documentElement.clientHeight;
    angle += 10;
}

function clear() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
}

function mouseCoord(event) {
    smouseX = event.clientX;
    smouseY = event.clientY;
    mouseX = event.clientX - clientWidth/2 + userPosX;
    mouseY = -event.clientY + clientHeight/2 + userPosY;
}

window.getWidthOfText = function(txt, fontname, fontsize){
    this.e = document.createElement('span');
    this.e.style.fontSize = fontsize;
    this.e.style.fontFamily = fontname;
    this.e.innerHTML = txt;
    document.body.appendChild(this.e);
    var w = this.e.offsetWidth;
    document.body.removeChild(this.e);
    return w;
}

function drawImageRot(img,x,y,width,height,deg){
    var rad = deg * Math.PI / 180;
    ctx.translate(x + width / 2, y + height / 2);
    ctx.rotate(rad);
    ctx.drawImage(img,width / 2 * (-1),height / 2 * (-1),width,height);
    ctx.rotate(rad * ( -1 ) );
    ctx.translate((x + width / 2) * (-1), (y + height / 2) * (-1));
}

function drawCurvedRect(rectWidth,rectHeight,rectX,rectY,cornerRadius,color) {
    ctx.beginPath();
    ctx.moveTo(rectX + cornerRadius, rectY);
    ctx.lineTo(rectX + rectWidth - cornerRadius, rectY);
    ctx.arcTo(rectX + rectWidth, rectY, rectX + rectWidth, rectY + cornerRadius, cornerRadius);
    ctx.lineTo(rectX + rectWidth, rectY + rectHeight - cornerRadius);
    ctx.arcTo(rectX + rectWidth, rectY + rectHeight, rectX + rectWidth - cornerRadius, rectY + rectHeight, cornerRadius);
	  ctx.lineTo(rectX + cornerRadius, rectY + rectHeight);
	  ctx.arcTo(rectX, rectY + rectHeight, rectX, rectY + rectHeight - cornerRadius, cornerRadius);
	  ctx.lineTo(rectX, rectY + cornerRadius);
	  ctx.arcTo(rectX, rectY, rectX + cornerRadius, rectY, cornerRadius);
    ctx.lineWidth = 5;
	  ctx.strokeStyle = "rgba(0,0,0, 0.1)";
    ctx.stroke();
	  for (rectCount = 2; rectCount < rectWidth/2; rectCount += 5) {
	      ctx.beginPath();
        ctx.moveTo(rectX + cornerRadius + rectCount, rectY + rectCount);
        ctx.lineTo(rectX + rectWidth - cornerRadius - rectCount, rectY + rectCount);
        ctx.arcTo(rectX + rectWidth - rectCount, rectY + rectCount, rectX + rectWidth - rectCount, rectY + cornerRadius + rectCount, cornerRadius);
        ctx.lineTo(rectX + rectWidth - rectCount, rectY + rectHeight - cornerRadius - rectCount);
	      ctx.arcTo(rectX + rectWidth - rectCount, rectY + rectHeight - rectCount, rectX + rectWidth - cornerRadius - rectCount, rectY + rectHeight - rectCount, cornerRadius);
	      ctx.lineTo(rectX + cornerRadius + rectCount, rectY + rectHeight - rectCount);
	      ctx.arcTo(rectX + rectCount, rectY + rectHeight - rectCount, rectX + rectCount, rectY + rectHeight - cornerRadius - rectCount, cornerRadius);
	      ctx.lineTo(rectX + rectCount, rectY + cornerRadius + rectCount);
	      ctx.arcTo(rectX + rectCount, rectY + rectCount, rectX + cornerRadius + rectCount, rectY + rectCount, cornerRadius);
        ctx.lineWidth = 5;
	      if (color == "red") {
	          ctx.strokeStyle = "rgba(255, 0, 0, 0.1)";
	      } else if (color == "green") {
	          ctx.strokeStyle = "rgba(0, 255, 0, 0.1)";
	      } else if (color == "blue") {
	          ctx.strokeStyle = "rgba(0, 0, 255, 0.1)";
	      }
        ctx.stroke();
	  }
}

//Loading Up the Game...
socket.on("load", function() {
	setup();
});
function setup(){
    loginInterval = setInterval(loginLoop, 20);
    document.getElementById("userName").style.display = "inline";
    document.getElementById("canvas").style.display = "inline";
    enterSubmit = function(event) {
        if (event.keyCode == 13) {
            submitState = 5;
	          setTimeout(function(){submitState = 4}, 150);
        }
    };
	document.getElementById("userName").addEventListener("keydown", enterSubmit);
	
    loginMouseDown = function(event){
        event.preventDefault();
		mouseDown = true;
		if (submitState == 1) {
		    submitState = 2;
		}
    };
    document.addEventListener("mousedown", loginMouseDown);
	
    loginMouseUp= function(event){
        mouseDown = false;
	    if (submitState == 2) {
	        submitState = 4;
	    }
	    if (submitState == 3) {
	        submitState = 0;
	    }
    };
	document.addEventListener("mouseup", loginMouseUp);
	
    document.getElementById("userName").focus();
    backgroundImage = new Image();
    backgroundImage.src = "background.jpg"; 
    energyImage = new Image();
    energyImage.src = "Energy.png"; 
    playerImage = new Image();
    playerImage.src = "player.png"
    playersImage = new Image();
    playersImage.src = "players.png";  
    submitImage = new Image();
    submitImage.src = "submit.png";
    submitHoverImage = new Image();
    submitHoverImage.src = "submitHover.png"
    submitActiveImage = new Image();
    submitActiveImage.src = "submitActive.png"
    loginSocket = io('/login');
    gameSocket = socket;
    loginLoop();
 }

//Login Screen
function loginLoop() {
    clear();
    document.getElementById("html").style.cursor = cursorType;
    cursorType = "default";
    //Prevent "canvas" from zooming
    document.getElementById("canvas").setAttribute('width', clientWidth + 'px');
    document.getElementById("canvas").setAttribute('height', clientHeight + 'px');
    ctx.globalCompositeOperation = "source-over";
    //"userName"
    document.getElementById("userName").style.width = 280/zoomLevel + "px";
    document.getElementById("userName").style.height = 35/zoomLevel + "px";
    document.getElementById("userName").style.borderRadius = 10/zoomLevel + "px";
    document.getElementById("userName").style.fontSize = 24/zoomLevel + "px";
    document.getElementById("userName").style.marginLeft = clientWidth/2 - 145/zoomLevel + "px";
    document.getElementById("userName").style.marginTop = clientHeight/2 - 74.5/zoomLevel + "px";
    document.getElementById("userName").style.border = 5/zoomLevel + "px solid black";
	//makes userName bigger if player types more than 280px
    if (getWidthOfText(document.getElementById("userName").value, "arial", "24px") > 280) {
	    document.getElementById("userName").style.width = getWidthOfText(document.getElementById("userName").value, "arial", "24px")/zoomLevel + "px";
	    document.getElementById("userName").style.marginLeft = clientWidth/2 - (getWidthOfText(document.getElementById("userName").value, "arial", "24px")/2 + 5)/zoomLevel + "px";
    } 
    //Prevent background from zooming
    ctx.drawImage(backgroundImage, 0, 0, 1920/zoomLevel, 1080/zoomLevel);
    //"Submit"
    if (submitState == 2) {
        submitState = 3
    } else if (submitState != 3 && submitState != 4 && submitState != 5){
        submitState = 0;
    }
    if (smouseX > clientWidth/2 - 100/zoomLevel && smouseX < clientWidth/2 + 100/zoomLevel) {
        if (smouseY > 6/zoomLevel + clientHeight/2 - 29.5/zoomLevel && smouseY < 42/zoomLevel + clientHeight/2 - 29.5/zoomLevel) {
            cursorType = "pointer";
	        if (submitState == 3) {
	            submitState = 2;
	        } else if (submitState != 2 && submitState != 4 && submitState != 5) {
	            submitState = 1;
	        }  
	    }
    }
    for (var curveCount = 0; curveCount < 6/zoomLevel; curveCount += 1/zoomLevel) {
        if (smouseX > clientWidth/2 - 100/zoomLevel + curveCount/zoomLevel && smouseX < clientWidth/2 + 100/zoomLevel - curveCount/zoomLevel) {
	        if (smouseY == Math.round(6/zoomLevel + clientHeight/2 - 29.5/zoomLevel - curveCount/zoomLevel)) {
	            cursorType = "pointer";
	            if (submitState == 3) {
	                submitState = 2;
	            } else if (submitState != 2 && submitState != 4 && submitState != 5) {
	                submitState = 1;
	            }
	        }
	    }
    }
    for (var curveCount = 0; curveCount < 7/zoomLevel; curveCount += 1/zoomLevel) {
        if (smouseX > clientWidth/2 - 100/zoomLevel + curveCount/zoomLevel && smouseX < clientWidth/2 + 100/zoomLevel - curveCount/zoomLevel) {
	        if (smouseY == Math.round(42/zoomLevel + clientHeight/2 - 29.5/zoomLevel + curveCount/zoomLevel)) {
	            cursorType = "pointer";
	            if (submitState == 3) {
	                submitState = 2;
	            } else if (submitState != 2 && submitState != 4 && submitState != 5) {
	                submitState = 1;
	            }
	        }
	    }
    }
    if (submitState == 0) {
        ctx.drawImage(submitImage, clientWidth/2 - 100/zoomLevel, clientHeight/2 - 29.5/zoomLevel, 200/zoomLevel, 49/zoomLevel);
    } else if (submitState == 1) {
        ctx.drawImage(submitHoverImage, clientWidth/2 - 100/zoomLevel, clientHeight/2 - 29.5/zoomLevel, 200/zoomLevel, 49/zoomLevel);
    } else if (submitState == 2 || submitState == 3 || submitState == 5) {
        ctx.drawImage(submitActiveImage, clientWidth/2 - 100/zoomLevel, clientHeight/2 - 29.5/zoomLevel + 4/zoomLevel, 200/zoomLevel, 45/zoomLevel);
    } else if (submitState == 4) {
    	playerName = document.getElementById('userName').value;
        socket.emit("spawn", playerName);
        clearInterval(loginInterval);
		submitState = 0;
    }
}

//spawn
socket.on('welcome', function(currentPlayers, players, playerNumber){
	users = [];
    for (o = 0; players.length > o; o++) {
        users.push(players[o]);
    }
    co = playerNumber;
    console.log(users);
    health = users[co].health;
    damage = users[co].damage;
    speed = users[co].speed;
    userPosX = users[co].x;
    userPosY = users[co].y;
    mass = users[co].mass;
    start();
})

function start() {
    gameSocket = io('/game');
    loginSocket = socket;
    if (users[co].health < 1) {
      socket.emit("respawn", co);
    }
	document.getElementById("userName").removeEventListener("keydown", enterSubmit);
	document.removeEventListener("mousedown", loginMouseDown);
	document.removeEventListener("mouseup", loginMouseUp);
    document.getElementById("userName").style.display = "none";
    healthPoint = 0;
    damagePoint = 0;
    speedPoint = 0;
    healthDigits = 1;
    damageDigits = 1;
    speedDigits = 1;
    speedX = 0;
    speedY = 0;
    speedX2 = 0;
    speedY2 = 0;
    moveX = 0;
    moveY = 0;
    playerSX = document.documentElement.clientWidth/2 - 20;
    playerSY = document.documentElement.clientHeight/2 - 20;
    console.log(users[co].health);
    gameLoop();
    gameInterval = setInterval(gameLoop, 20);

	gameKeydown = function(e) {    
    	if (e.keyCode == 38 || e.keyCode == 87) {
	    	socket.emit("up", co);
    	} if (e.keyCode == 40 || e.keyCode == 83) { 
	    	socket.emit("down", co);
    	} if (e.keyCode == 37 || e.keyCode == 65) {
	    	socket.emit("left", co);
		} if (e.keyCode == 39 || e.keyCode == 68) {
	    	socket.emit("right", co);
		} if (e.keyCode == 32) {
			toggleSkill = true;
		}
	};
	document.addEventListener('keydown', gameKeydown);
	
	gameKeyup = function(e) {  
    	if (e.keyCode == 38 || e.keyCode == 87) {
	    	socket.emit("up2", co);
    	} if (e.keyCode == 40 || e.keyCode == 83) { 
	    	socket.emit("down2", co);
    	} if (e.keyCode == 37 || e.keyCode == 65) {
	    	socket.emit("left2", co);
		} if (e.keyCode == 39 || e.keyCode == 68) {
	    	socket.emit("right2", co);
	    }
	};
	document.addEventListener('keyup', gameKeyup);
	
	gameMousedown = function(e) {
		//function() {
            clickTime.push((new Date()).getTime());
            if (clickTime.length > 10) {
            	clickTime.shift();
            }
		//}
        socket.emit("click", co, mouseX, mouseY);
        if (moveSkill == 0) {
            if (smouseY > 30 && smouseY < 90) {
	        if (smouseX > document.documentElement.clientWidth/2 - 160 && smouseX < document.documentElement.clientWidth/2 - 60) {
	            socket.emit("health", co);
            }
            if (smouseX > document.documentElement.clientWidth/2 - 50 && smouseX < document.documentElement.clientWidth/2 + 50) {
	            socket.emit("damage", co);
            }
            if (smouseX > document.documentElement.clientWidth/2 + 60 && smouseX < document.documentElement.clientWidth/2 + 160) {
	            socket.emit("speed", co);
            }
        } 
        for (var curveCount = 0; curveCount < 21; curveCount++) {
            if (smouseY == 10 + curveCount) {
	            if (smouseX > document.documentElement.clientWidth/2 - 140 - curveCount && smouseX < document.documentElement.clientWidth/2 - 80 + curveCount) {
    	            socket.emit("health", co);
	            }
                if (smouseX > document.documentElement.clientWidth/2 - 30 - curveCount && smouseX < document.documentElement.clientWidth/2 + 30 + curveCount) {
	                socket.emit("damage", co);
                } 
	            if (smouseX > document.documentElement.clientWidth/2 + 80 - curveCount && smouseX < document.documentElement.clientWidth/2 + 140 + curveCount) {
	                socket.emit("speed", co);
                }
	        }
        }
        for (var curveCount = 0; curveCount < 21; curveCount++) {
            if (smouseY == 110 - curveCount) {
	            if (smouseX > document.documentElement.clientWidth/2 - 140 - curveCount && smouseX < document.documentElement.clientWidth/2 - 80 + curveCount) {
    	            socket.emit("health", co);
	            }
                if (smouseX > document.documentElement.clientWidth/2 - 30 - curveCount && smouseX < document.documentElement.clientWidth/2 + 30 + curveCount) {
	                socket.emit("damage", co);
                }
	            if (smouseX > document.documentElement.clientWidth/2 + 80 - curveCount && smouseX < document.documentElement.clientWidth/2 + 140 + curveCount) {
	                socket.emit("speed", co);
                }
	        }
        }
    }
	};
	document.addEventListener('mousedown', gameMousedown);
}

function gameLoop() {
	gameSocket.on("update", function(players){
		users = [];
        for (o = 0; players.length > o; o++) {
        	users.push(players[o]);
			if (o == co) {
				if (users[o] == undefined) {
                    clearInterval(gameInterval);
					document.removeEventListener('keydown', gameKeydown);
					document.removeEventListener('keyup', gameKeyup);
					document.removeEventListener('mousedown', gameMousedown);
                    setup();
				} else {
					playerName = users[co].name;
					userPosX = users[co].x;
					userPosY = users[co].y;
					mass = users[co].mass;
					points = users[co].points;
					healthPoint = users[co].tHealth;
					healthDigits = Math.floor(Math.log(healthPoint) / Math.LN10 + 1);
					damagePoint = users[co].damage;
					damageDigits = Math.floor(Math.log(damagePoint) / Math.LN10 + 1);
					speedPoint = users[co].speed;
					speedDigits = Math.floor(Math.log(speedPoint) / Math.LN10 + 1);
					healthBar = users[co].health;
					speedX = users[co].speedX;
					speedY = -users[co].speedY;
					moveX = users[co].moveX;
					moveY = users[co].moveY;
				}
	        }
        }
	})
	console.log(users[co].health);
	canvas.style.cursor = "default";
    if (speedX2 <= 50 && speedX2 >= -50) {
    	if (speedX > speedX2) {
        	speedX2++;
    	} else if (speedX < speedX2) {
    		speedX2--;
    	}

    }
    if (speedY2 <= 50 && speedY2 >= -50) {
    	if (speedY > speedY2) {
        	speedY2++;
    	} else if (speedY < speedY2) {
    		speedY2--;
    	}
    }
    console.log(mouseX + ", " + mouseY);
    for (var i = [-1,-1]; i[1] < 2; i[0]++) {
        ctx.drawImage(backgroundImage, 
	        (1920*i[0] - userPosX + 1920*Math.floor(userPosX/1920))/zoomLevel,
		    (1080*i[1] + userPosY - 1080*Math.floor(userPosY/1080))/zoomLevel,
		    1920/zoomLevel,
		    1080/zoomLevel
	    );
	    if (i[0] == 1) {
	    	i[1]++
	    	i[0] = -1; 
	    }
    }
    ctx.drawImage(playerImage,
        clientWidth/2 + (-mass/2 + speedX2)/zoomLevel,
        clientHeight/2 + (-mass/2 + speedY2)/zoomLevel,
        mass/zoomLevel,
        mass/zoomLevel
    );
    drawImageRot(energyImage,
	    clientWidth/2 + (-mass/5 + speedX2)/zoomLevel,
	    clientHeight/2 + (-mass/5 + speedY2)/zoomLevel,
	    (mass/2.5)/zoomLevel,
	    (mass/2.5)/zoomLevel,
	    angle * Math.round(Math.random() * 9)
	);

    ctx.font="16px arial";
    ctx.fillStyle="rgba(255,255,255,0.8)";
    ctx.fillText(playerName,
        clientWidth/2 - Math.round(getWidthOfText(playerName, "arial", "16px")/2) + speedX2,
        clientHeight/2 - users[co].mass/2 - users[co].mass/10 + speedY2
    );

    //enemies
	for (var i = 0; i < users.length; i++) {
	    if (i == co){
		} else if (users[i] == undefined) {
		} else if (users[i].x == null) {
		} else {
            ctx.drawImage(playersImage,
                clientWidth/2 + (users[i].x - users[i].mass/2 - userPosX)/zoomLevel,
 		        clientHeight/2 + (-users[i].y - users[i].mass/2 + userPosY)/zoomLevel,
                users[i].mass/zoomLevel,
	            users[i].mass/zoomLevel
	        );

		    drawImageRot(energyImage,
		        clientWidth/2 + (users[i].x - users[i].mass/5 - userPosX)/zoomLevel,
		        clientHeight/2 + (-users[i].y - users[i].mass/5 + userPosY)/zoomLevel,
		        (users[i].mass/2.5)/zoomLevel,
		        (users[i].mass/2.5)/zoomLevel,
		        angle * Math.round(Math.random() * 9)
		    );
		    ctx.font="16px arial";
            ctx.fillStyle="rgba(255,255,255,0.8)";
            ctx.fillText(users[i].name,
                clientWidth/2 - Math.round(getWidthOfText(users[i].name, "arial", "16px")/2 + userPosX - users[i].x),
                clientHeight/2 - users[i].mass/2 - users[i].mass/10 - users[i].y + userPosY 
            );
        }
	}

	//skill bars
	if (toggleSkill == true) {
    	if (moveSkill == 0) {
            for (var i = 0; i < 11; i++) {
            	setTimeout(function(){
                    moveSkill += 10;
                },i*10);
	        }
	        toggleSkill = false;
	    }
	    if (moveSkill == 110) {
	    	for (var i = 0; i < 11; i++) {
	        	setTimeout(function(){
                    moveSkill -= 10;
                    console.log(moveSkill)
	            },i*10);
            }
            toggleSkill = false;
        }
    }
    drawCurvedRect(100,100,document.documentElement.clientWidth/2 - 160,10 - moveSkill,20,"red");		
	drawCurvedRect(100,100,document.documentElement.clientWidth/2 - 50,10 - moveSkill,20,"green");
	drawCurvedRect(100,100,document.documentElement.clientWidth/2 + 60,10 - moveSkill,20,"blue");
    ctx.fillStyle = "rgba(255,255,255,0.8)";
    ctx.font = "20px Arial";
	ctx.fillText("Health",document.documentElement.clientWidth/2 - 140,33 - moveSkill);
	ctx.fillText("Damage",document.documentElement.clientWidth/2 - 38,33 - moveSkill);
	ctx.fillText("Speed",document.documentElement.clientWidth/2 + 80,33 - moveSkill);
	ctx.font = "40px Arial";
	ctx.fillText(healthPoint,document.documentElement.clientWidth/2 - 110 - (healthDigits*11),75 - moveSkill);
    ctx.fillText(damagePoint,document.documentElement.clientWidth/2 - (damageDigits*11),75 - moveSkill);
    ctx.fillText(speedPoint,document.documentElement.clientWidth/2 + 110 - (speedDigits*11),75 - moveSkill);

    if (moveSkill == 0) {
        if (smouseY > 30 && smouseY < 90) {
	        if (smouseX > document.documentElement.clientWidth/2 - 160 && smouseX < document.documentElement.clientWidth/2 - 60) {
	            canvas.style.cursor = "pointer";
            }
            if (smouseX > document.documentElement.clientWidth/2 - 50 && smouseX < document.documentElement.clientWidth/2 + 50) {
	            canvas.style.cursor = "pointer";
            }
            if (smouseX > document.documentElement.clientWidth/2 + 60 && smouseX < document.documentElement.clientWidth/2 + 160) {
	            canvas.style.cursor = "pointer";
            }
        } 
        for (var curveCount = 0; curveCount < 21; curveCount++) {
            if (smouseY == 10 + curveCount) {
	            if (smouseX > document.documentElement.clientWidth/2 - 140 - curveCount && smouseX < document.documentElement.clientWidth/2 - 80 + curveCount) {
    	            canvas.style.cursor = "pointer";
	            }
                if (smouseX > document.documentElement.clientWidth/2 - 30 - curveCount && smouseX < document.documentElement.clientWidth/2 + 30 + curveCount) {
	                canvas.style.cursor = "pointer";
                } 
	            if (smouseX > document.documentElement.clientWidth/2 + 80 - curveCount && smouseX < document.documentElement.clientWidth/2 + 140 + curveCount) {
	                canvas.style.cursor = "pointer";
                }
	        }
        }
        for (var curveCount = 0; curveCount < 21; curveCount++) {
            if (smouseY == 110 - curveCount) {
	            if (smouseX > document.documentElement.clientWidth/2 - 140 - curveCount && smouseX < document.documentElement.clientWidth/2 - 80 + curveCount) {
    	            canvas.style.cursor = "pointer";
	            }
                if (smouseX > document.documentElement.clientWidth/2 - 30 - curveCount && smouseX < document.documentElement.clientWidth/2 + 30 + curveCount) {
	                canvas.style.cursor = "pointer";
                }
	            if (smouseX > document.documentElement.clientWidth/2 + 80 - curveCount && smouseX < document.documentElement.clientWidth/2 + 140 + curveCount) {
	                canvas.style.cursor = "pointer";
                }
	        }
        }
    }
    //show position
    ctx.font = "25px ComicSans";
    ctx.fillText("X: ".split("").join(String.fromCharCode(8202)) + userPosX, 10, 25);
    ctx.fillText("Y: ".split("").join(String.fromCharCode(8202)) + userPosY, 10, 50);
} 
</script>
</body>
</html>